{
  "type":"object",
  "$schema":"http://json-schema.org/draft-03/schema",
  "id":"http://jsonschema.net",
  "required":true,
  "properties":{
    "calculateTaxAndTotal":{
      "type":"object",
      "id":"http://jsonschema.net/calculatetaxandtotal",
      "required":true,
      "properties":{
        "menuItems":{
          "type":"object",
          "id":"http://jsonschema.net/calculatetaxandtotal/menuItems",
          "required":true,
          "properties":{
            "resposapiMenuItem":{
              "type":"array",
              "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem",
              "required":true,
              "items":{
                "type":"object",
                "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0",
                "required":true,
                "properties":{
                  "condiments":{
                    "type":"object",
                    "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/condiments",
                    "required":false,
                    "properties":{
                      "resposapiCondimentMenuItem":{
                        "type":"array",
                        "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/condiments/resposapiCondimentMenuItem",
                        "required":true,
                        "items":{
                          "type":"object",
                          "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/condiments/resposapiCondimentMenuItem/0",
                          "required":true,
                          "properties":{
                            "miMenuLevel":{
                              "type":"string",
                              "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/condiments/resposapiCondimentMenuItem/0/miMenuLevel",
                              "required":true,
                              "enum":[
                                "1",
                                "2",
                                "3",
                                "4",
                                "5",
                                "6",
                                "7",
                                "8",
                                "9",
                                "10"
                              ]
                            },
                            "modCodeId":{
                              "type":"number",
                              "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/condiments/resposapiCondimentMenuItem/0/modCodeId",
                              "required": false
                            },
                            "miObjectNum":{
                              "type":"string",
                              "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/condiments/resposapiCondimentMenuItem/0/miObjectNum",
                              "required":true,
                              "pattern": "^[a]?[0-9]*$"
                            },
                            "miDiscount":{
                              "type":"object",
                              "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/menuItem/miDiscount",
                              "required":false,
                              "properties":{
                                "discAmountOrPercent":{
                                  "type":"string",
                                  "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/menuItem/miDiscount/discAmountOrPercent",
                                  "required":true
                                },
                                "discObjectNum":{
                                  "type":"string",
                                  "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/menuItem/miDiscount/discObjectNum",
                                  "required":true
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "menuItem":{
                    "type":"object",
                    "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/menuItem",
                    "required":true,
                    "properties":{
                      "miDiscount":{
                        "type":"object",
                        "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/menuItem/miDiscount",
                        "required":false,
                        "properties":{
                          "discAmountOrPercent":{
                            "type":"string",
                            "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/menuItem/miDiscount/discAmountOrPercent",
                            "required":false
                          },
                          "discObjectNum":{
                            "type":"string",
                            "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/menuItem/miDiscount/discObjectNum",
                            "required":false
                          }
                        }
                      },
                      "miMenuLevel":{
                        "type":"string",
                        "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/menuItem/miMenuLevel",
                        "required":true,
                        "enum":[
                          "1",
                          "2",
                          "3",
                          "4",
                          "5",
                          "6",
                          "7",
                          "8",
                          "9",
                          "10"
                        ]
                      },
                      "lineEntry":{
                        "type":"string",
                        "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/menuItem/lineEntry",
                        "required":true
                      },
                      "miObjectNum":{
                        "type":"string",
                        "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/menuItem/miObjectNum",
                        "required":true,
                        "pattern": "^[a]?[0-9]*$"
                      },
                      "miAltItemId":{
                        "type":"string",
                        "id":"http://jsonschema.net/calculatetaxandtotal/menuItems/resposapiMenuItem/0/menuItem/miAltItemId",
                        "required":true,
                        "minLength": 1,
                        "pattern": "^[0-9]*$"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "orderDiscount":{
          "type":"object",
          "id":"http://jsonschema.net/calculatetaxandtotal/orderLevelDiscount",
          "required":false,
          "properties":{
            "discAmountOrPercent":{
              "type":"string",
              "id":"http://jsonschema.net/calculatetaxandtotal/orderLevelDiscount/discAmountOrPercent",
              "required":true
            },
            "discObjectNum":{
              "type":"string",
              "id":"http://jsonschema.net/calculatetaxandtotal/orderLevelDiscount/discObjectNum",
              "required":true,
              "minLength":0,
              "maxLength":5
            }
          }
        },
        "serializedCoupon":{
          "type":"object",
          "id":"http://jsonschema.net/calculatetaxandtotal/serializedCoupon",
          "required":false,
          "properties":{
            "couponCode":{
              "type":"string",
              "id":"http://jsonschema.net/calculatetaxandtotal/serializedCoupon/couponCode",
              "required":true
            }
          }
        },
		"authenticationSystem": {
			"type": "string",
			"id": "http://jsonschema.net/calculatetaxandtotal/authenticationSystem",
			"required": true
		}
      }
    }
  }
}